<html>
    <!-- Download stuff -->
    <head>
        <link href="https://fonts.googleapis.com/icon?family=Material+Symbols+Outlined" rel="stylesheet">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">
        <title>Level Editor</title>
        <link rel="icon" href="logo.png">
        <link href="style.css" rel="stylesheet" type="text/css" />
        <script src="https://cdn.jsdelivr.net/npm/underscore@1.12.0/underscore-min.js"></script>
        
        <meta content="Web Candy Crush Level Editor" property="og:title">
        <meta content="Level editor for candy crush that can be used to export levels in your browser" property="og:description">
        <meta content="Candy Crush Level Editor" property="og:site_name">
        <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
        <meta http-equiv="Pragma" content="no-cache" />
        <meta http-equiv="Expires" content="0" />
        <link rel="stylesheet" href="https://unpkg.com/mdui@2/mdui.css">
        <script src="https://unpkg.com/mdui@2/mdui.global.js"></script>
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
        <script type="importmap">
            {
                "imports": {
                    "@material/web/": "https://esm.run/@material/web/"
                }
            }
        </script>
        <script type="module">
            import '@material/web/all.js';
            import {styles as typescaleStyles} from '@material/web/typography/md-typescale-styles.js';

            document.adoptedStyleSheets.push(typescaleStyles.styleSheet);
        </script>
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                mdui.setColorScheme('#ffa4c0');
            });
        </script>
        <link id="mwcaccent" rel="stylesheet" href="mat-accent-color-light.css">
    </head>

    <body style="margin: 0;">
        <div class="overlay-loading">
            <md-circular-progress indeterminate></md-circular-progress>
            <p>Editor is loading, please wait...</p>
        </div>
        <script>
            window.onload = function() {
                document.body.classList.add('fade-in'); // Add the fade-in class
                const loadingOverlay = document.querySelector('.overlay-loading'); // Select the loading overlay
                
                // Set a timeout to hide the loading overlay after 1 second
                setTimeout(() => {
                    loadingOverlay.style.display = 'none'; // Hide the loading overlay
                }, 1000); // 1000 milliseconds = 1 second
            };
        </script>
        <script src="script.js" defer></script>
        <mdui-navigation-drawer modal close-on-esc close-on-overlay-click contained class="beginning-navd" style="position: fixed;">
            <div class="content-navdrawer" style="margin-top: 10px; margin-left: 10px; margin-right: 10px;">
                <md-icon-button class="close-navdrawer"><md-icon>close</md-icon></md-icon-button>
                <h2>Welcome to Level Editor!</h2>
                <p>Click anywhere outside the navigation drawer to start making levels!</p>
                <md-list-item type="link" class="newlevelbigbtn" style="background-color: var(--md-sys-color-secondary-container); color: var(--md-sys-color-on-secondary-container); border-top-left-radius: 20px; border-top-right-radius: 20px; border-bottom-right-radius: 7px; border-bottom-left-radius: 7px; user-select: none;">
                    <md-icon slot="start">add</md-icon>Create new level
                </md-list-item>
                <md-list-item type="link" class="openlevelbigbtn" style="background-color: var(--md-sys-color-secondary-container); color: var(--md-sys-color-on-secondary-container); border-bottom-left-radius: 20px; border-bottom-right-radius: 20px; border-top-left-radius: 7px; border-top-right-radius: 7px; margin-top: 3pt; user-select: none;">
                    <md-icon slot="start">folder</md-icon>Open a level
                </md-list-item>
                <div class="navd-end" style="position: absolute; bottom: 15;">
                    <mdui-tooltip content="Version 1.7" variant="rich" placement="right" trigger="click"><md-icon-button class="close-navdrawer"><md-icon>info</md-icon></md-icon-button></mdui-tooltip>
                    <mdui-dropdown placement="top-right">
                        <md-icon-button slot="trigger"><md-icon>settings</md-icon></md-icon-button>
                        <md-list class="menu" style="margin-left: 80px; width: 300px;">
                            <md-list-item> <md-icon slot="start">dark_mode</md-icon>Dark mode <div slot="end"><mdui-switch id="switchDark" icons></mdui-switch></div></md-list-item>
                            <md-divider></md-divider>
                            <md-list-item type="link"> <md-icon slot="start">bug_report</md-icon>Bug report <md-icon slot="end">open_in_new</md-icon></md-list-item>
                        </md-list>
                    </mdui-dropdown>
                </div>
            </div>
        </mdui-navigation-drawer>
            <mdui-top-app-bar class="example-top-app-bar" style="width: 99%; align-items: center; position: fixed; z-index: 10;">
                <md-icon-button class="opennavd">
                    <md-icon>menu</md-icon>
                </md-icon-button>
                <img src="logo-horizontal.png" width="90px" draggable="false">
                <div class="quick-access">
                    <mdui-dropdown>
                        <md-text-button trailing-icon slot="trigger" class="quick-access-acent">File <md-icon slot="icon">arrow_drop_down</md-icon></md-text-button>
                        <md-list class="menu" style="width: 300px;">
                            <md-list-item type="link" class="newlvl"> <md-icon slot="start">add</md-icon>New <div slot="end">Ctrl + N</div></md-list-item>
                            <md-list-item type="link" class="openlvl"> <md-icon slot="start">folder</md-icon>Open <div slot="end">Ctrl + O</div><input type="file" id="fileInput" accept=".txt" style="display: none;" /></md-list-item>
                            <md-divider></md-divider>
                            <md-list-item type="link" class="export-button" onclick="exportLevelUI()"> <md-icon slot="start">upload</md-icon>Export level <div slot="end">Ctrl + S</div></md-list-item>
                            <md-list-item class="import-main" type="link" onclick="displayImportLevelUI()"> <md-icon slot="start">file_download</md-icon>Import level <div slot="end">Ctrl + I</div></md-list-item>
                        </md-list>
                    </mdui-dropdown>
                    <mdui-dropdown>
                        <md-text-button trailing-icon slot="trigger" class="quick-access-acent">Help <md-icon slot="icon">arrow_drop_down</md-icon></md-text-button>
                        <md-list class="menu" style="width: 300px;">
                            <md-list-item type="link"> <md-icon slot="start">description</md-icon>Documentation <div slot="end">Alt + L</div></md-list-item>
                            <md-list-item type="link" class="credit-btn"> <md-icon slot="start">info</md-icon>About <div slot="end">Ctrl + B</div></md-list-item>
                        </md-list>
                    </mdui-dropdown>
                </div>
                <div style="flex-grow: 1;"></div>
                
            </mdui-top-app-bar>
          
            <mdui-layout-main class="example-layout-main" style="height: 97vh;">
                <div id="main">
                    <div class="sideselectionright">
                        <br><br><br>
                        <md-list style="background-color: var(--md-sys-color-surface-container-low); border-top-left-radius: 20px; margin-top: 10px; padding-left: 15px; padding-right: 15px;">
                            <div class="elements-topab" style="display: flex; place-items: center; justify-content: space-between; margin-right: 10px; margin-left: 10px;">
                                <h2>Configuration</h2>
                            </div>
                            <mdui-card variant="outlined" style="border-radius: 20px; background-color: #00000000;">
                                <mdui-collapse value="opened">
                                    <mdui-collapse-item value="opened">
                                        <md-list-item slot="header" style="user-select: none;" type="link">Game modes <md-icon slot="end">keyboard_arrow_down</md-icon></md-list-item><md-divider inset></md-divider>
                                        <div class="sideoptions" id="modeselection">
                                            <label for="movesoption" class="leveltypelabel" style="margin: 5px;" onclick="selectMode()">
                                                <img src="ui/playmode_icon_moves.png" style="max-width: 30px; max-height: 30px;">
                                                <div class="break"></div>
                                                <!-- <label class='DroidSans' style="color: #5e2232; text-align: center;">Moves</label> -->
                                                <input type="radio" id="movesoption" name="leveltype" value="Classic moves" checked>
                                            </label>
                                            <label class="leveltypelabel" for="jellyoption" style="margin: 5px;" onclick="selectMode()">
                                                <img src="ui/playmode_icon_jelly.png" style="max-width: 30px; max-height: 30px;">
                                                <div class="break"></div>
                                                <!-- <label class='DroidSans' style="color: #5e2232; text-align: center;">Jelly</label> -->
                                                <input type="radio" id="jellyoption" name="leveltype" value="Light up">
                                            </label>
                                            <label class="leveltypelabel" for="ingredientsoption" style="margin: 5px;" onclick="selectMode()">
                                                <img src="ui/playmode_icon_drop.png" style="max-width: 30px; max-height: 30px;">
                                                <div class="break"></div>
                                                <!-- <label class='DroidSans' style="color: #5e2232; text-align: center;">Ingredients</label> -->
                                                <input type="radio" id="ingredientsoption" name="leveltype" value="Drop down">
                                            </label>
                                            <label class="leveltypelabel" for="orderoption" style="margin: 5px;" onclick="selectMode()">
                                                <img src="ui/playmode_icon_order.png" style="max-width: 30px; max-height: 30px;">
                                                <div class="break"></div>
                                                <!-- <label class='DroidSans' style="color: #5e2232; text-align: center;">Order</label> -->
                                                <input type="radio" id="orderoption" name="leveltype" value="Order">
                                            </label>
                                            <label class="leveltypelabel" for="timedoption" style="margin: 5px;" onclick="selectMode()">
                                                <img src="ui/playmode_icon_time.png" style="max-width: 30px; max-height: 30px;">
                                                <div class="break"></div>
                                                <!-- <label class='DroidSans' style="color: #5e2232; text-align: center;">Timed</label> -->
                                                <input type="radio" id="timedoption" name="leveltype" value="Classic">
                                            </label>
                                            <label class="leveltypelabel" for="rainbowrapidsoption" style="margin: 5px;" onclick="selectMode()">
                                                <img src="ui/playmode_icon_rainbowrapids.png" style="max-width: 30px; max-height: 30px;">
                                                <div class="break"></div>
                                                <!-- <label class='DroidSans' style="color: #5e2232; text-align: center;">Rainbow Rapids</label> -->
                                                <input type="radio" id="rainbowrapidsoption" name="leveltype" value="Rainbow Rapids">
                                            </label>
                                            <label class="leveltypelabel" for="jellyorderoption" style="margin: 5px;" onclick="selectMode()">
                                                <img src="ui/playmode_icon_jellyorder.png" style="max-width: 30px; max-height: 30px;">
                                                <div class="break"></div>
                                                <!-- <label class='DroidSans' style="color: #5e2232; text-align: center;">Jelly Order</label> -->
                                                <input type="radio" id="jellyorderoption" name="leveltype" value="Jelly Order">
                                            </label>
                                            <label class="leveltypelabel" for="jellyingredientsoption" style="margin: 5px;" onclick="selectMode()">
                                                <img src="ui/playmode_icon_jellydrop.png" style="max-width: 30px; max-height: 30px;">
                                                <div class="break"></div>
                                                <!-- <label class='DroidSans' style="color: #5e2232; text-align: center;">Jelly Ingredients</label> -->
                                                <input type="radio" id="jellyingredientsoption" name="leveltype" value="Jelly Drop down">
                                            </label>
                                            <label class="leveltypelabel" for="orderingredientsoption" style="margin: 5px;" onclick="selectMode()">
                                                <img src="ui/playmode_icon_orderdrop.png" style="max-width: 30px; max-height: 30px;">
                                                <div class="break"></div>
                                                <!-- <label class='DroidSans' style="color: #5e2232; text-align: center;">Order Ingredients</label> -->
                                                <input type="radio" id="orderingredientsoption" name="leveltype" value="Order Drop Down">
                                            </label>
                                            <label class="leveltypelabel" for="rainbowjellyoption" style="margin: 5px;" onclick="selectMode()">
                                                <img src="ui/playmode_icon_rainbowjelly.png" style="max-width: 30px; max-height: 30px;">
                                                <div class="break"></div>
                                                <!-- <label class='DroidSans' style="color: #5e2232; text-align: center;">Rainbow Rapids Jelly</label> -->
                                                <input type="radio" id="rainbowjellyoption" name="leveltype" value="Rainbow Rapids Jelly">
                                            </label>
                                            <label class="leveltypelabel" for="rainbowingredientsoption" style="margin: 5px;" onclick="selectMode()">
                                                <img src="ui/playmode_icon_rainbowdrop.png" style="max-width: 30px; max-height: 30px;">
                                                <div class="break"></div>
                                                <!-- <label class='DroidSans' style="color: #5e2232; text-align: center;">Rainbow Rapids Ingredients</label> -->
                                                <input type="radio" id="rainbowingredientsoption" name="leveltype" value="Rainbow Rapids Drop Down">
                                            </label>
                                            <label class="leveltypelabel" for="rainboworderoption" style="margin: 5px;" onclick="selectMode()">
                                                <img src="ui/playmode_icon_rainboworder.png" style="max-width: 30px; max-height: 30px;">
                                                <div class="break"></div>
                                                <!-- <label class='DroidSans' style="color: #5e2232; text-align: center;">Rainbow Rapids Order</label> -->
                                                <input type="radio" id="rainboworderoption" name="leveltype" value="Rainbow Rapids Order">
                                            </label>
                                            <label class="leveltypelabel" for="jellytimeoption" style="margin: 5px;" onclick="selectMode()">
                                                <img src="ui/playmode_icon_jellytime.png" style="max-width: 30px; max-height: 30px;">
                                                <div class="break"></div>
                                                <!-- <label class='DroidSans' style="color: #5e2232; text-align: center;"><s>Jelly Time</s></label> -->
                                                <input type="radio" id="jellytimeoption" name="leveltype" value="Jelly Time">
                                            </label>
                                            <label class="leveltypelabel" for="froggeroption" style="margin: 5px;" onclick="selectMode()">
                                                <img src="ui/playmode_icon_frogger.png" style="max-width: 30px; max-height: 30px;">
                                                <div class="break"></div>
                                                <!-- <label class='DroidSans' style="color: #5e2232; text-align: center;"><s>Frogger</s></label> -->
                                                <input type="radio" id="froggeroption" name="leveltype" value="Frogger">
                                            </label>
                                            <label class="leveltypelabel" for="jellycoloroption" style="margin: 5px;" onclick="selectMode()">
                                                <img src="ui/playmode_icon_jelly_color.png" style="max-width: 30px; max-height: 30px;">
                                                <div class="break"></div>
                                                <!-- <label class='DroidSans' style="color: #5e2232; text-align: center;"><s>Jelly Color</s></label> -->
                                                <input type="radio" id="jellycoloroption" name="leveltype" value="Jelly Color">
                                            </label>
                                        </div>
                                    </mdui-collapse-item>
                                </mdui-collapse>
                            </mdui-card><br>
                            <mdui-card variant="outlined" style="display: none;border-radius: 20px; background-color: #00000000;" id="requirements-options-section">
                                <mdui-collapse value="opened">
                                    <mdui-collapse-item value="opened">
                                        <md-list-item slot="header" style="user-select: none; display: flex; justify-content: space-between;">
                                            <div style="display: flex; align-items: center; justify-content: space-between;">
                                                <md-filled-button onclick="addRequirement()" id="addorder">Add Order</md-filled-button>
                                                <md-filled-button onclick="addRequirement(true)" id="addingredient">Add Ingredient</md-filled-button>
                                            </div>
                                            <div id="requirements">
                                            </div>
                                            <p style="color: red; display: none;" id="requirementwarning">You can only have 3 requirements at a time.</p>
                                        </md-list-item>
                                    </mdui-collapse-item>
                                </mdui-collapse>
                            </mdui-card>
                            <br><mdui-card variant="outlined" id="moves-section" style="border-radius: 20px; background-color: #00000000;">
                                <mdui-collapse value="opened">
                                    <mdui-collapse-item value="opened">
                                        <md-list-item slot="header" style="user-select: none; display: flex; justify-content: space-between;">
                                            <div style="display: flex; align-items: center; justify-content: space-between;">
                                                <p>Moves</p>
                                                <md-outlined-text-field placeholder="20" style="height: 50px; width: 100px" type="number" name="moves" id="moves" name="moves"></md-outlined-text-field>
                                            </div>
                                        </md-list-item>
                                    </mdui-collapse-item>
                                </mdui-collapse>
                            </mdui-card>
                            <mdui-card variant="outlined" id="time-section" style="display: none; border-radius: 20px; background-color: #00000000;">
                                <mdui-collapse value="opened">
                                    <mdui-collapse-item value="opened">
                                        <md-list-item slot="header" style="user-select: none; display: flex; justify-content: space-between;">
                                            <div style="display: flex; align-items: center; justify-content: space-between;">
                                                <p>Time (seconds)</p>
                                                <md-outlined-text-field placeholder="30" style="height: 50px; width: 100px" type="number" name="time" id="time"></md-outlined-text-field>
                                            </div>
                                        </md-list-item>
                                    </mdui-collapse-item>
                                </mdui-collapse>
                            </mdui-card>
                            <br><mdui-card variant="outlined" style="border-radius: 20px; background-color: #00000000;">
                                <mdui-collapse value="opened">
                                    <mdui-collapse-item value="opened">
                                        <md-list-item slot="header" style="user-select: none;" type="link">Preferred colors <md-icon slot="end">keyboard_arrow_down</md-icon></md-list-item><md-divider inset></md-divider>
                                        <div class="sideoptions">
                                            <button value="0" class="preferred preferredselected" onclick="togglePreferred(this)">
                                                <img class="selectionimage" src="elements/blue.png">
                                            </button>
                                            <button value="1" class="preferred preferredselected" onclick="togglePreferred(this)">
                                                <img class="selectionimage" src="elements/green.png">
                                            </button>
                                            <button value="2" class="preferred preferredselected" onclick="togglePreferred(this)">
                                                <img class="selectionimage" src="elements/orange.png">
                                            </button>
                                            <button value="3" class="preferred preferredselected" onclick="togglePreferred(this)">
                                                <img class="selectionimage" src="elements/purple.png">
                                            </button>
                                            <button value="4" class="preferred preferredselected" onclick="togglePreferred(this)">
                                                <img class="selectionimage" src="elements/red.png">
                                            </button>
                                            <button value="5" class="preferred" onclick="togglePreferred(this)">
                                                <img class="selectionimage" src="elements/yellow.png">
                                            </button>
                                        </div>
                                    </mdui-collapse-item>
                                </mdui-collapse>
                            </mdui-card><br>
                            <mdui-card variant="outlined" style="border-radius: 20px; background-color: #00000000;">
                                <mdui-collapse value="opened">
                                    <mdui-collapse-item value="opened">
                                        <md-list-item slot="header" style="user-select: none;" type="link">Score targets <md-icon slot="end">keyboard_arrow_down</md-icon></md-list-item><md-divider inset></md-divider>
                                        <div style="display: flex; align-items: center; justify-content: space-between; margin-left: 15px; margin-right: 15px;">
                                            <p style="display: flex; gap: 10px; place-items: center;"><img src="ui/hud/hud_scoreStar_red.png" style="width: 25px;"> Star 1</p>
                                            <md-outlined-text-field placeholder="1000" style="height: 50px; width: 100px" type="number" id="star1"></md-outlined-text-field>
                                        </div>
                                        <div style="display: flex; align-items: center; justify-content: space-between; margin-left: 15px; margin-right: 15px;">
                                            <p style="display: flex; gap: 10px; place-items: center;"><img src="ui/hud/hud_scoreStar_green.png" style="width: 25px;"> Star 2</p>
                                            <md-outlined-text-field placeholder="2000" style="height: 50px; width: 100px" type="number" id="star2"></md-outlined-text-field>
                                        </div>
                                        <div style="display: flex; align-items: center; justify-content: space-between; margin-left: 15px; margin-right: 15px;">
                                            <p style="display: flex; gap: 10px; place-items: center;"><img src="ui/hud/hud_scoreStar_yellow.png" style="width: 25px;"> Star 3</p>
                                            <md-outlined-text-field placeholder="3000" style="height: 50px; width: 100px" type="number" id="star3"></md-outlined-text-field>
                                        </div>
                                    </mdui-collapse-item>
                                </mdui-collapse>
                            </mdui-card><br>
                            <mdui-card variant="outlined" style="border-radius: 20px; background-color: #00000000;">
                                <mdui-collapse value="opened">
                                    <mdui-collapse-item value="opened">
                                        <md-list-item slot="header" style="user-select: none; display: flex; justify-content: space-between;">
                                            <div style="display: flex; align-items: center; justify-content: space-between;">
                                                <p>Disable Starting Booster</p>
                                                <mdui-checkbox id="disablebooster"></mdui-checkbox>
                                            </div>
                                        </md-list-item>
                                    </mdui-collapse-item>
                                </mdui-collapse>
                            </mdui-card><br>
                            <mdui-card class="dreamworld-card" style="border-radius: 20px; background-color: #00000000;">
                                <mdui-collapse value="opened">
                                    <mdui-collapse-item value="opened">
                                        <md-list-item type="link" slot="header" style="user-select: none; display: flex; justify-content: space-between; place-items: center;">
                                            <div style="display: flex; align-items: center; justify-content: space-between;">
                                                Dreamworld?
                                                <mdui-checkbox name="isOwlModeEnabled" id="isOwlModeEnabled" onchange="toggleDreamworld(this)"></mdui-checkbox>
                                            </div>
                                            <md-icon slot="end">keyboard_arrow_down</md-icon>
                                        </md-list-item>
                                        <div class="sideoptionsdream" id="dreamworldoptions" style="display: none; border-radius: 20px;">
                                            <md-outlined-text-field label="Moves until Moonstruck" type="number" name="initialMovesUntilMoonStruck" id="initialMovesUntilMoonStruck" placeholder="5"></md-outlined-text-field><br><br>
                                            <md-outlined-text-field label="Moonstruck length" name="initialMovesDuringMoonStruck" id="initialMovesDuringMoonStruck" placeholder="3" type="number"></md-outlined-text-field><br><br>
                                            <md-outlined-text-field label="Max scale difference" name="maxAllowedScaleDiff" id="maxAllowedScaleDiff" placeholder="10" type="number"></md-outlined-text-field>
                                        </div>
                                    </mdui-collapse-item>
                                </mdui-collapse>
                            </mdui-card><br>
                            <mdui-card variant="outlined" style="border-radius: 20px; background-color: #00000000;">
                                <mdui-collapse value="opened">
                                    <mdui-collapse-item value="opened">
                                        <md-list-item slot="header" type="link" style="user-select: none;">Candy Cannon <md-icon slot="end">keyboard_arrow_down</md-icon></md-list-item>
                                        <div class="sideoptions">
                                            <table style="width: 100%;" class="cannonsettings">
                                                <tr>
                                                    <td>
                                                        <!-- <p class='MergePro' style="font-weight: bold; color: #5e2232; text-align: center;">Amount:</p> -->
                                                    </td>
                                                    <td>
                                                        <p style="font-weight: bold;text-align: center;">Max:</p>
                                                    </td>
                                                    <td>
                                                        <p style="font-weight: bold;text-align: center;">Interval:</p>
                                                    </td>
                                                    <td>
                                                        <p style="font-weight: bold; text-align: center;">Tick:</p>
                                                    </td>
                                                </tr>
                                                <tr class="cannonpref" elm="fallingIcing" image="elements/cannon_block_waffle.png" tick="Level"></tr>
                                                <tr class="cannonpref" elm="licorice" image="elements/cannon_licorice.png" tick=""></tr>
                                                <tr class="cannonpref" elm="luckyCandy" image="elements/cannon_lucky.png" tick=""></tr>
                                                <tr class="cannonpref" elm="mysteryCandy" image="elements/cannon_mystery.png" tick=""></tr>
                                                <tr class="cannonpref" elm="mulockCandy" image="elements/cannon_mulock_key.png" tick=""></tr>
                                                <tr class="cannonpref" elm="pepperCandy" image="elements/cannon_bomb.png" tick="ExplosionTurns"></tr>
                                                <tr class="cannonpref" elm="stripedCandy" image="elements/cannon_striped.png" tick=""></tr>
                                                <tr class="cannonpref" elm="stripedRowCandy" image="elements/cannon_striped_horizontal.png" tick=""></tr>
                                                <tr class="cannonpref" elm="stripedColumnCandy" image="elements/cannon_striped_vertical.png" tick=""></tr>
                                                <tr class="cannonpref" elm="timeCandy" image="elements/cannon_time_candy.png" tick=""></tr>
                                                <tr class="cannonpref" elm="extraMoves" image="elements/extra_moves.png" tick=""></tr>
                                                <tr class="cannonpref" elm="wrappedCandy" image="elements/cannon_wrapped_candy.png" tick=""></tr>
                                                <tr class="cannonpref" elm="colorBomb" image="elements/cannon_colorbomb.png" tick=""></tr>
                                                <tr class="cannonpref" elm="fish" image="elements/cannon_fish.png" tick=""></tr>
                                                <tr class="cannonpref" elm="shield" image="elements/cannon_sugar_coat.png" tick="Level"></tr>
                                                <tr>
                                                    <td> 
                                                        <img class="elmimg" style="max-width: 70%;" src="elements/cannon_ingredient.png"> 
                                                    </td> 
                                                    <td> 
                                                        <input class="max" style="width: 50px; text-align: center;" placeholder="0" type="number" id="maxNumIngredientsOnScreen">
                                                    </td> 
                                                    <td> 
                                                        <input class="spawn" style="width: 50px; text-align: center;" placeholder="0" type="number" id="ingredientSpawnDensity"> 
                                                        </td> 
                                                        <td> 
                                                            <!-- <input class="tick" style="width: 50px; text-align: center;" placeholder="0" type="number" id="shieldLevel">  -->
                                                        </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </mdui-collapse-item>
                                </mdui-collapse>
                            </mdui-card><br>
                            <mdui-card variant="outlined" style="border-radius: 20px; background-color: #00000000;">
                                <mdui-collapse value="opened">
                                    <mdui-collapse-item value="opened">
                                        <md-list-item slot="header" type="link" style="user-select: none;">Mixer options <md-icon slot="end">keyboard_arrow_down</md-icon></md-list-item>
                                        <div id="mixer-options-section" style="display: block;">
                                            <div class="sideoptions">
                                                <md-outlined-text-field label="Max blocker" placeholder="0" id="evilSpawnerAmount"></md-outlined-text-field>
                                                <div class="break"></div>
                                                <br>
                                                <md-outlined-text-field label="Spawn interval" placeholder="0" id="evilSpawnerInterval"></md-outlined-text-field>
                                                <div class="break"></div>
                                                <br>
                                                <md-outlined-button onclick="addMixerOption()">Add Mixer blocker</md-outlined-button>
                                            </div>
                                            <div id="mixeroptions">
                                            </div>
                                        </div>
                                    </mdui-collapse-item>
                                </mdui-collapse>
                            </mdui-card><br>
                        </md-list>
                        
        
        
                        
                    </div>
        
                    <div class="sideselection">
                        <br><br><br>
                        <md-list style="background-color: var(--md-sys-color-surface-container-low); border-top-right-radius: 20px; margin-top: 10px;">
                            <div class="elements-topab" style="display: flex; place-items: center; justify-content: space-between; margin-right: 10px; margin-left: 20px;">
                                <h2>Elements</h2>
                            </div>
                            <mdui-collapse>
                                <mdui-collapse-item>
                                    <md-list-item type="link" slot="header" style="user-select: none;">
                                        <img width="30px" slot="start" src="colors.png"/>Colors
                                        <md-icon slot="end">keyboard_arrow_down</md-icon>
                                    </md-list-item>
                                    <div style="background-color: var(--md-sys-color-surface-container-highest); border-radius: 20px;">
                                        <div class="dropped" id="colordrop">
                                            <button class="colorselected" onclick="updateColor(this, 'random')" style="position: relative;">
                                                <img class="selectionimage" src="elements/random_ui.png">
                                                <md-ripple></md-ripple>
                                            </button>
                                            <button onclick="updateColor(this, 'red')" style="position: relative;">
                                                <img class="selectionimage" src="elements/red.png">
                                                <md-ripple></md-ripple>
                                            </button>
                                            <button onclick="updateColor(this, 'orange')" style="position: relative;">
                                                <img class="selectionimage" src="elements/orange.png">
                                                <md-ripple></md-ripple>
                                            </button>
                                            <button onclick="updateColor(this, 'yellow')" style="position: relative;">
                                                <img class="selectionimage" src="elements/yellow.png">
                                                <md-ripple></md-ripple>
                                            </button>
                                            <button onclick="updateColor(this, 'green')" style="position: relative;">
                                                <img class="selectionimage" src="elements/green.png">
                                                <md-ripple></md-ripple>
                                            </button>
                                            <button onclick="updateColor(this, 'blue')" style="position: relative;">
                                                <img class="selectionimage" src="elements/blue.png">
                                                <md-ripple></md-ripple>
                                            </button>
                                            <button onclick="updateColor(this, 'purple')" style="position: relative;">
                                                <img class="selectionimage" src="elements/purple.png">
                                                <md-ripple></md-ripple>
                                            </button>
                                        </div>
                                    </div>
                                </mdui-collapse-item>
                            </mdui-collapse>
                            <md-divider inset></md-divider>
                            <mdui-collapse>
                                <mdui-collapse-item>
                                    <md-list-item type="link" slot="header" style="user-select: none;">
                                        <img width="30px" slot="start" src="candies.png"/>Candies
                                        <md-icon slot="end">keyboard_arrow_down</md-icon>
                                    </md-list-item>
                                    <div style="background-color: var(--md-sys-color-surface-container-highest); border-radius: 20px;">
                                        <div class="dropped" id="candy">
                                            <button class="elementselected" onclick="updateSelection(this, 'random', 'normal')">
                                                <img class="selectionimage" src="elements/random.png">
                                            </button>
                                            <div class="selectcoloredelement" element="striped_horizontal"></div>
                                            <div class="selectcoloredelement" element="striped_vertical"></div>
                                            <div class="selectcoloredelement" element="wrapped"></div>
                                            <div class="selectcoloredelement" element="pepper_candy"></div>
                                            <div class="selectcoloredelement" element="key"></div>
                                            <div class="selectcoloredelement" element="lucky"></div>
                                            <div class="selectcoloredelement" element="mystery"></div>
                                            <div class="selectcoloredelement" element="chameleon"></div>
                                            <div class="selectcoloredelement" element="extra_time_and_moves"></div>
                                            <div class="selectcoloredelement" element="jellyfish"></div>
                                            <div class="selectcoloredelement" element="jellyfish_striped"></div>
                                            <div class="selectcoloredelement" element="jellyfish_wrapped"></div>
                                            <div class="selectcoloredelement" element="jellyfish_colorbomb"></div>
                                            <div class="selectelement" element="bomb", gamelayer="normal"></div>
                                            <div class="selectelement" element="coconut_wheel", gamelayer="normal"></div>
                                            <div class="selectelement" element="ufo", gamelayer="normal"></div>
                                        </div>
                                    </div>
                                </mdui-collapse-item>
                            </mdui-collapse>
                            <md-divider inset></md-divider>
                            <mdui-collapse>
                                <mdui-collapse-item>
                                    <md-list-item type="link" slot="header" style="user-select: none;">
                                        <img width="30px" slot="start" src="frog.png"/>Frog
                                        <md-icon slot="end">keyboard_arrow_down</md-icon>
                                    </md-list-item>
                                    <div style="background-color: var(--md-sys-color-surface-container-highest); border-radius: 20px;">
                                        <div class="dropped" id="frogss">
                                            <div class="selectcoloredelement" element="frog"></div>
                                            <div class="selectelement" element="chocolate_frog" gamelayer="normal"></div>
                                            <div class="selectelement" element="leaf" gamelayer="leaf"></div>
                                        </div>
                                    </div>
                                </mdui-collapse-item>
                            </mdui-collapse>
                            <md-divider inset></md-divider>
                            <mdui-collapse>
                                <mdui-collapse-item>
                                    <md-list-item type="link" slot="header" style="user-select: none;">
                                        <img width="30px" slot="start" src="tiles.png"/>Tiles
                                        <md-icon slot="end">keyboard_arrow_down</md-icon>
                                    </md-list-item>
                                    <div style="background-color: var(--md-sys-color-surface-container-highest); border-radius: 20px;">
                                        <div class="dropped" id="tiles">
                                            <button onclick="updateSelection(this, 'none', 'tile')">
                                                <img class="selectionimage" src="elements/none_UI.png">
                                            </button>
                                            <button onclick="updateSelection(this, 'empty', 'tile')">
                                                <img class="selectionimage" src="elements/empty_UI.png">
                                            </button>
                                            <div class="selectelement" element="grid" gamelayer="tile"></div>
                                            <div class="selectelement" element="jelly" gamelayer="tile"></div>
                                            <div class="selectelement" element="jelly2" gamelayer="tile"></div>
                                            <div class="selectelement" element="blue_tile" gamelayer="tile"></div>
                                            <div class="selectelement" element="black_tile" gamelayer="tile"></div>
                                        </div>
                                    </div>
                                </mdui-collapse-item>
                            </mdui-collapse>
                            <md-divider inset></md-divider>
                            <mdui-collapse>
                                <mdui-collapse-item>
                                    <md-list-item type="link" slot="header" style="user-select: none;">
                                        <img width="30px" slot="start" src="blockers.png"/>Blockers
                                        <md-icon slot="end">keyboard_arrow_down</md-icon>
                                    </md-list-item>
                                    <div style="background-color: var(--md-sys-color-surface-container-highest); border-radius: 20px;">
                                        <div class="dropped" id="blockers">
                                            <div class="selectelement" element="block_frosting" gamelayer="normal"></div>
                                            <div class="selectelement" element="block_multi_frosting1" gamelayer="normal"></div>
                                            <div class="selectelement" element="block_multi_frosting2" gamelayer="normal"></div>
                                            <div class="selectelement" element="block_multi_frosting3" gamelayer="normal"></div>
                                            <div class="selectelement" element="block_multi_frosting4" gamelayer="normal"></div>
                                            <div class="selectelement" element="block_multi_frosting5" gamelayer="normal"></div>
                                            <div class="selectelement" element="bubble_pop_1" gamelayer="normal"></div>
                                            <div class="selectelement" element="bubble_pop_2" gamelayer="normal"></div>
                                            <div class="selectelement" element="bubble_pop_3" gamelayer="normal"></div>
                                            <div class="selectelement" element="bubble_pop_4" gamelayer="normal"></div>
                                            <div class="selectelement" element="bubble_pop_5" gamelayer="normal"></div>
                                            <div class="selectelement" element="block_waffle1" gamelayer="normal"></div>
                                            <div class="selectelement" element="block_waffle2" gamelayer="normal"></div>
                                            <div class="selectelement" element="block_waffle3" gamelayer="normal"></div>
                                            <div class="selectelement" element="block_waffle4" gamelayer="normal"></div>
                                            <div class="selectelement" element="block_waffle5" gamelayer="normal"></div>
                                            <div class="selectelement" element="chain_layer1_c" gamelayer="normal"></div>
                                            <div class="selectelement" element="chain_layer2_c" gamelayer="normal"></div>
                                            <div class="selectelement" element="chain_layer3_c" gamelayer="normal"></div>
                                            <div class="selectelement" element="chain_layer4_c" gamelayer="normal"></div>
                                            <div class="selectelement" element="chain_layer5_c" gamelayer="normal"></div>
                                            <div class="selectelement" element="dark_chocolate_1" gamelayer="normal"></div>
                                            <div class="selectelement" element="dark_chocolate_2" gamelayer="normal"></div>
                                            <div class="selectelement" element="dark_chocolate_3" gamelayer="normal"></div>
                                            <div class="selectelement" element="dark_chocolate_4" gamelayer="normal"></div>
                                            <div class="selectelement" element="dark_chocolate_5" gamelayer="normal"></div>
                                            <div class="selectelement" element="chocolate" gamelayer="normal"></div>
                                            <div class="selectelement" element="licorice_square" gamelayer="normal"></div>
                                            <div class="selectelement" element="bobber", gamelayer="normal"></div>
                                            <div class="selectelement" element="cake_bomb" gamelayer="normal"></div>
                                            <div class="selectelement" element="shell_1" gamelayer="normal"></div>
                                            <div class="selectelement" element="shell_2" gamelayer="normal"></div>
                                            <div class="selectelement" element="shell_3" gamelayer="normal"></div>
                                            <div class="selectelement" element="jelly_jar_1" gamelayer="normal"></div>
                                            <div class="selectelement" element="jelly_jar_2" gamelayer="normal"></div>
                                               <div class="selectelement" element="toffee_tornado" gamelayer="normal"></div>
                                               <div class="selectelement" element="pinata" gamelayer="normal"></div>
                                               <div class="selectelement" element="pinata_crash" gamelayer="normal"></div>
                                               <div class="selectelement" element="pinata_link1" gamelayer="normal"></div>
                                               <div class="selectelement" element="pinata_link2" gamelayer="normal"></div>
                                               <div class="selectelement" element="pinata_link3" gamelayer="normal"></div>
                                               <div class="selectelement" element="pinata_unbreakable" gamelayer="normal"></div>
                                               <div class="selectelement" element="pinata_empty" gamelayer="normal"></div>
                                               <div class="selectelement" element="rainbow_rapid_mold" gamelayer="normal"></div>
                                        </div>
                                    </div>
                                </mdui-collapse-item>
                            </mdui-collapse>
                            <md-divider inset></md-divider>
                            <mdui-collapse>
                                <mdui-collapse-item>
                                    <md-list-item type="link" slot="header" style="user-select: none;">
                                        <img width="30px" slot="start" src="locks.png"/>Locks
                                        <md-icon slot="end">keyboard_arrow_down</md-icon>
                                    </md-list-item>
                                    <div style="background-color: var(--md-sys-color-surface-container-highest); border-radius: 20px;">
                                        <div class="dropped" id="locks">
                                            <div class="selectelement" element="licorice" gamelayer="lock"></div>
                                            <div class="selectelement" element="marmalade" gamelayer="lock"></div>
                                            <div class="selectelement" element="sugarcoat_1" gamelayer="sugarcoat"></div>
                                            <div class="selectelement" element="sugarcoat_2" gamelayer="sugarcoat"></div>
                                            <div class="selectelement" element="sugarcoat_3" gamelayer="sugarcoat"></div>
                                            <div class="selectelement" element="mulock1" gamelayer="lock"></div>
                                            <div class="selectelement" element="mulock2" gamelayer="lock"></div>
                                            <div class="selectelement" element="mulock3" gamelayer="lock"></div>
                                            <div class="selectelement" element="mulock4" gamelayer="lock"></div>
                                            <div class="selectelement" element="mulock5" gamelayer="lock"></div>
                                        </div>
                                    </div>
                                </mdui-collapse-item>
                            </mdui-collapse>
                            <md-divider inset></md-divider>
                            <mdui-collapse>
                                <mdui-collapse-item>
                                    <md-list-item type="link" slot="header" style="user-select: none;">
                                        <img width="30px" slot="start" src="shields.png"/>Shields
                                        <md-icon slot="end">keyboard_arrow_down</md-icon>
                                    </md-list-item>
                                    <div style="background-color: var(--md-sys-color-surface-container-highest); border-radius: 20px;">
                                        <div class="dropped" id="shields">
                                            <div class="selectelement" element="glass_tile_1" gamelayer="glass"></div>
                                            <div class="selectelement" element="glass_tile_2" gamelayer="glass"></div>
                                            <div class="selectelement" element="glass_tile_3" gamelayer="glass"></div>
                                        </div>
                                    </div>
                                </mdui-collapse-item>
                            </mdui-collapse>
                            <md-divider inset></md-divider>
                            <mdui-collapse>
                                <mdui-collapse-item>
                                    <md-list-item type="link" slot="header" style="user-select: none;">
                                        <img width="30px" slot="start" src="cannon.png"/>Candy Cannon
                                        <md-icon slot="end">keyboard_arrow_down</md-icon>
                                    </md-list-item>
                                    <div style="background-color: var(--md-sys-color-surface-container-highest); border-radius: 20px;">
                                        <div class="dropped" id="spawning">
                                            <div class="selectelement" element="candy_cannon" gamelayer="candy_cannon"></div>
                                            <div class="selectelement" element="candy_entrance" gamelayer="candy_entrance"></div>
                                            <div class="selectelement" element="cannon_striped_horizontal" gamelayer="candy_cannon"></div>
                                            <div class="selectelement" element="cannon_striped_vertical" gamelayer="candy_cannon"></div>
                                            <div class="selectelement" element="cannon_colorbomb" gamelayer="candy_cannon"></div>
                                            <div class="selectelement" element="cannon_fish" gamelayer="candy_cannon"></div>
                                            <div class="selectelement" element="cannon_sugar_coat" gamelayer="candy_cannon"></div>
                                            <div class="selectelement" element="cannon_blue" gamelayer="candy_cannon"></div>
                                            <div class="selectelement" element="cannon_green" gamelayer="candy_cannon"></div>
                                            <div class="selectelement" element="cannon_orange" gamelayer="candy_cannon"></div>
                                            <div class="selectelement" element="cannon_purple" gamelayer="candy_cannon"></div>
                                            <div class="selectelement" element="cannon_red" gamelayer="candy_cannon"></div>
                                            <div class="selectelement" element="cannon_yellow" gamelayer="candy_cannon"></div>
                                            <div class="selectelement" element="cannon_ingredient" gamelayer="candy_cannon"></div>
                                            <div class="selectelement" element="cannon_licorice" gamelayer="candy_cannon"></div>
                                            <div class="selectelement" element="cannon_bomb" gamelayer="candy_cannon"></div>
                                            <div class="selectelement" element="cannon_mulock_key" gamelayer="candy_cannon"></div>
                                            <div class="selectelement" element="cannon_lucky" gamelayer="candy_cannon"></div>
                                            <div class="selectelement" element="cannon_mystery" gamelayer="candy_cannon"></div>
                                            <div class="selectelement" element="cannon_chameleon" gamelayer="candy_cannon"></div>
                                            <div class="selectelement" element="cannon_extra_time_and_moves" gamelayer="candy_cannon"></div>
                                            <div class="selectelement" element="cannon_striped" gamelayer="candy_cannon"></div>
                                            <div class="selectelement" element="cannon_wrapped_candy" gamelayer="candy_cannon"></div>
                                            <div class="selectelement" element="cannon_block_waffle" gamelayer="candy_cannon"></div>
                                        </div>
                                    </div>
                                </mdui-collapse-item>
                            </mdui-collapse>
                            <md-divider inset></md-divider>
                            <mdui-collapse>
                                <mdui-collapse-item>
                                    <md-list-item type="link" slot="header" style="user-select: none;">
                                        <img width="30px" slot="start" src="ingredientas.png"/>Ingredients
                                        <md-icon slot="end">keyboard_arrow_down</md-icon>
                                    </md-list-item>
                                    <div style="background-color: var(--md-sys-color-surface-container-highest); border-radius: 20px;">
                                        <div class="dropped" id="ingredients">
                                            <div class="selectelement" element="cherry" gamelayer="normal"></div>
                                            <div class="selectelement" element="hazelnut" gamelayer="normal"></div>
                                            <div class="selectelement" element="ingredients_exit" gamelayer="ingredients_exit"></div>
                                        </div>
                                    </div>
                                </mdui-collapse-item>
                            </mdui-collapse>
                            <md-divider inset></md-divider>
                            <mdui-collapse>
                                <mdui-collapse-item>
                                    <md-list-item type="link" slot="header" style="user-select: none;">
                                        <img width="30px" slot="start" src="walls.png"/>Walls
                                        <md-icon slot="end">keyboard_arrow_down</md-icon>
                                    </md-list-item>
                                    <div style="background-color: var(--md-sys-color-surface-container-highest); border-radius: 20px;">
                                        <div class="dropped" id="walls">
                                            <button onclick="updateSelection(this, 'wall_down', 'walldown')" class="">
                                                <img class="selectionimage" src="elements/wall_down_ui.png">
                                            </button>
                                            <button onclick="updateSelection(this, 'wall_up', 'wallup')" class="">
                                                <img class="selectionimage" src="elements/wall_up_ui.png">
                                            </button>
                                            <button onclick="updateSelection(this, 'wall_left', 'wallleft')" class="">
                                                <img class="selectionimage" src="elements/wall_left_ui.png">
                                            </button>
                                            <button onclick="updateSelection(this, 'wall_right', 'wallright')" class="">
                                                <img class="selectionimage" src="elements/wall_right_ui.png">
                                            </button>
                    
                    
                                            <button onclick="updateSelection(this, 'destructible_wall_1_down', 'walldown')" class="">
                                                <img class="selectionimage" src="elements/destructible_wall_1_down_ui.png">
                                            </button>
                                            <button onclick="updateSelection(this, 'destructible_wall_1_up', 'wallup')" class="">
                                                <img class="selectionimage" src="elements/destructible_wall_1_up_ui.png">
                                            </button>
                                            <button onclick="updateSelection(this, 'destructible_wall_1_left', 'wallleft')" class="">
                                                <img class="selectionimage" src="elements/destructible_wall_1_left_ui.png">
                                            </button>
                                            <button onclick="updateSelection(this, 'destructible_wall_1_right', 'wallright')" class="">
                                                <img class="selectionimage" src="elements/destructible_wall_1_right_ui.png">
                                            </button>
                    
                    
                                            <button onclick="updateSelection(this, 'destructible_wall_2_down', 'walldown')" class="">
                                                <img class="selectionimage" src="elements/destructible_wall_2_down_ui.png">
                                            </button>
                                            <button onclick="updateSelection(this, 'destructible_wall_2_up', 'wallup')" class="">
                                                <img class="selectionimage" src="elements/destructible_wall_2_up_ui.png">
                                            </button>
                                            <button onclick="updateSelection(this, 'destructible_wall_2_left', 'wallleft')" class="">
                                                <img class="selectionimage" src="elements/destructible_wall_2_left_ui.png">
                                            </button>
                                            <button onclick="updateSelection(this, 'destructible_wall_2_right', 'wallright')" class="">
                                                <img class="selectionimage" src="elements/destructible_wall_2_right_ui.png">
                                            </button>
                    
                    
                                            <button onclick="updateSelection(this, 'destructible_wall_3_down', 'walldown')" class="">
                                                <img class="selectionimage" src="elements/destructible_wall_3_down_ui.png">
                                            </button>
                                            <button onclick="updateSelection(this, 'destructible_wall_3_up', 'wallup')" class="">
                                                <img class="selectionimage" src="elements/destructible_wall_3_up_ui.png">
                                            </button>
                                            <button onclick="updateSelection(this, 'destructible_wall_3_left', 'wallleft')" class="">
                                                <img class="selectionimage" src="elements/destructible_wall_3_left_ui.png">
                                            </button>
                                            <button onclick="updateSelection(this, 'destructible_wall_3_right', 'wallright')" class="">
                                                <img class="selectionimage" src="elements/destructible_wall_3_right_ui.png">
                                            </button>
                                            
                    
                                            <button onclick="updateSelection(this, 'licorice_wall_down', 'walldown')" class="">
                                                <img class="selectionimage" src="elements/licorice_wall_down_ui.png">
                                            </button>
                                            <button onclick="updateSelection(this, 'licorice_wall_up', 'wallup')" class="">
                                                <img class="selectionimage" src="elements/licorice_wall_up_ui.png">
                                            </button>
                                            <button onclick="updateSelection(this, 'licorice_wall_left', 'wallleft')" class="">
                                                <img class="selectionimage" src="elements/licorice_wall_left_ui.png">
                                            </button>
                                            <button onclick="updateSelection(this, 'licorice_wall_right', 'wallright')" class="">
                                                <img class="selectionimage" src="elements/licorice_wall_right_ui.png">
                                            </button>
                    
                    
                                            <button onclick="updateSelection(this, 'destructible_wall_lic_1_down', 'walldown')" class="">
                                                <img class="selectionimage" src="elements/destructible_wall_lic_1_down_ui.png">
                                            </button>
                                            <button onclick="updateSelection(this, 'destructible_wall_lic_1_up', 'wallup')" class="">
                                                <img class="selectionimage" src="elements/destructible_wall_lic_1_up_ui.png">
                                            </button>
                                            <button onclick="updateSelection(this, 'destructible_wall_lic_1_left', 'wallleft')" class="">
                                                <img class="selectionimage" src="elements/destructible_wall_lic_1_left_ui.png">
                                            </button>
                                            <button onclick="updateSelection(this, 'destructible_wall_lic_1_right', 'wallright')" class="">
                                                <img class="selectionimage" src="elements/destructible_wall_lic_1_right_ui.png">
                                            </button>
                    
                    
                                            <button onclick="updateSelection(this, 'destructible_wall_lic_2_down', 'walldown')" class="">
                                                <img class="selectionimage" src="elements/destructible_wall_lic_2_down_ui.png">
                                            </button>
                                            <button onclick="updateSelection(this, 'destructible_wall_lic_2_up', 'wallup')" class="">
                                                <img class="selectionimage" src="elements/destructible_wall_lic_2_up_ui.png">
                                            </button>
                                            <button onclick="updateSelection(this, 'destructible_wall_lic_2_left', 'wallleft')" class="">
                                                <img class="selectionimage" src="elements/destructible_wall_lic_2_left_ui.png">
                                            </button>
                                            <button onclick="updateSelection(this, 'destructible_wall_lic_2_right', 'wallright')" class="">
                                                <img class="selectionimage" src="elements/destructible_wall_lic_2_right_ui.png">
                                            </button>
                    
                    
                                            <button onclick="updateSelection(this, 'destructible_wall_lic_3_down', 'walldown')" class="">
                                                <img class="selectionimage" src="elements/destructible_wall_lic_3_down_ui.png">
                                            </button>
                                            <button onclick="updateSelection(this, 'destructible_wall_lic_3_up', 'wallup')" class="">
                                                <img class="selectionimage" src="elements/destructible_wall_lic_3_up_ui.png">
                                            </button>
                                            <button onclick="updateSelection(this, 'destructible_wall_lic_3_left', 'wallleft')" class="">
                                                <img class="selectionimage" src="elements/destructible_wall_lic_3_left_ui.png">
                                            </button>
                                            <button onclick="updateSelection(this, 'destructible_wall_lic_3_right', 'wallright')" class="">
                                                <img class="selectionimage" src="elements/destructible_wall_lic_3_right_ui.png">
                                            </button>
                                        </div>
                                    </div>
                                </mdui-collapse-item>
                            </mdui-collapse>
                            <md-divider inset></md-divider>
                            <mdui-collapse>
                                <mdui-collapse-item>
                                    <md-list-item type="link" slot="header" style="user-select: none;">
                                        <img width="30px" slot="start" src="mixers.png"/>Mixers
                                        <md-icon slot="end">keyboard_arrow_down</md-icon>
                                    </md-list-item>
                                    <div style="background-color: var(--md-sys-color-surface-container-highest); border-radius: 20px;">
                                        <div class="dropped" id="mixers">
                                            <div class="selectelement" element="chocolate_spawner" gamelayer="normal"></div>
                                            <div class="selectelement" element="dark_chocolate_spawner_1" gamelayer="normal"></div>
                                            <div class="selectelement" element="dark_chocolate_spawner_2" gamelayer="normal"></div>
                                            <div class="selectelement" element="dark_chocolate_spawner_3" gamelayer="normal"></div>
                                            <div class="selectelement" element="magic_mixer" gamelayer="normal"></div>
                                        </div>
                                    </div>
                                </mdui-collapse-item>
                            </mdui-collapse>
                            <md-divider inset></md-divider>
                            <mdui-collapse>
                                <mdui-collapse-item>
                                    <md-list-item type="link" slot="header" style="user-select: none;">
                                        <img width="30px" slot="start" src="bonbon.png"/>Bon Bon Blitz
                                        <md-icon slot="end">keyboard_arrow_down</md-icon>
                                    </md-list-item>
                                    <div style="background-color: var(--md-sys-color-surface-container-highest); border-radius: 20px;">
                                        <div class="dropped" id="bonbon">
                                            <div class="selectelement" element="bonbon_colorbomb_1" gamelayer="normal"></div>
                                            <div class="selectelement" element="bonbon_colorbomb_2" gamelayer="normal"></div>
                                            <div class="selectelement" element="bonbon_colorbomb_3" gamelayer="normal"></div>
                                            <div class="selectelement" element="bonbon_colorbomb_4" gamelayer="normal"></div>
                                            <div class="selectelement" element="bonbon_horizontal_1" gamelayer="normal"></div>
                                            <div class="selectelement" element="bonbon_horizontal_2" gamelayer="normal"></div>
                                            <div class="selectelement" element="bonbon_horizontal_3" gamelayer="normal"></div>
                                            <div class="selectelement" element="bonbon_horizontal_4" gamelayer="normal"></div>
                                            <div class="selectelement" element="bonbon_vertical_1" gamelayer="normal"></div>
                                            <div class="selectelement" element="bonbon_vertical_2" gamelayer="normal"></div>
                                            <div class="selectelement" element="bonbon_vertical_3" gamelayer="normal"></div>
                                            <div class="selectelement" element="bonbon_vertical_4" gamelayer="normal"></div>
                                            <div class="selectelement" element="bonbon_fish_1" gamelayer="normal"></div>
                                            <div class="selectelement" element="bonbon_fish_2" gamelayer="normal"></div>
                                            <div class="selectelement" element="bonbon_fish_3" gamelayer="normal"></div>
                                            <div class="selectelement" element="bonbon_fish_4" gamelayer="normal"></div>
                                            <div class="selectelement" element="bonbon_wrapped_1" gamelayer="normal"></div>
                                            <div class="selectelement" element="bonbon_wrapped_2" gamelayer="normal"></div>
                                            <div class="selectelement" element="bonbon_wrapped_3" gamelayer="normal"></div>
                                            <div class="selectelement" element="bonbon_wrapped_4" gamelayer="normal"></div>
                                        </div>
                                    </div>
                                </mdui-collapse-item>
                            </mdui-collapse>
                            <md-divider inset></md-divider>
                            <mdui-collapse>
                                <mdui-collapse-item>
                                    <md-list-item type="link" slot="header" style="user-select: none;">
                                        <img width="30px" slot="start" src="rainbowrapid.png"/>Rainbow Rapids Paths
                                        <md-icon slot="end">keyboard_arrow_down</md-icon>
                                    </md-list-item>
                                    <div style="background-color: var(--md-sys-color-surface-container-highest); border-radius: 20px;">
                                        <div class="dropped" id="path">
                                            <div class="selectelement" element="rainbow_rapid_cannon_top" gamelayer="rainbow_cannon_top"></div>
                                            <div class="selectelement" element="rainbow_rapid_cannon_bottom" gamelayer="rainbow_cannon_bottom"></div>
                                            <div class="selectelement" element="rainbow_rapid_cannon_left" gamelayer="rainbow_cannon_left"></div>
                                            <div class="selectelement" element="rainbow_rapid_cannon_right" gamelayer="rainbow_cannon_right"></div>
                                            <div class="selectelement" element="rainbow_stream_vertical" gamelayer="path"></div>
                                            <div class="selectelement" element="rainbow_stream_horizontal" gamelayer="path"></div>
                                            <div class="selectelement" element="rainbow_stream_BL" gamelayer="path"></div>
                                            <div class="selectelement" element="rainbow_stream_BR" gamelayer="path"></div>
                                            <div class="selectelement" element="rainbow_stream_TL" gamelayer="path"></div>
                                            <div class="selectelement" element="rainbow_stream_TR" gamelayer="path"></div>
                                            <div class="selectelement" element="rainbow_stream_TBL" gamelayer="path"></div>
                                            <div class="selectelement" element="rainbow_stream_TBR" gamelayer="path"></div>
                                            <div class="selectelement" element="rainbow_stream_TLR" gamelayer="path"></div>
                                            <div class="selectelement" element="rainbow_stream_BLR" gamelayer="path"></div>
                                            <div class="selectelement" element="rainbow_stream_all_directions" gamelayer="path"></div>
                                            <div class="selectelement" element="rainbow_stream_intersection_point" gamelayer="path"></div>
                                        </div>
                                    </div>
                                </mdui-collapse-item>
                            </mdui-collapse>
                        </md-list>
                    </div>
        
                    <div class="vertical-center" width="100px" style="top:56%">
                        <table id="level" cellspacing="0"></table>
                    </div>
                </div>
                
                <mdui-dialog close-on-overlay-click class="export-dialog">
                    <div slot="headline">
                        Export successful
                    </div>
                    <md-icon slot="icon">check</md-icon>
                    <div class="body">
                        <form slot="content" id="form-id" method="dialog">
                            <md-outlined-text-field type="textarea" id="exportfield" name="exportfield" readonly style="overflow: hidden; width: 510px; height: 313px; font-family: monospace;"></md-outlined-text-field>
                        </form>
                        <br>
                        <md-filled-text-field id="export-name" style="width: 510px;" label="Set your file name" suffix-text=".txt"></md-filled-text-field>
                    </div>
                    <md-text-button slot="action" class="close-btn" form="form-id">Close</md-text-button>
                    <md-filled-tonal-button class="save-file" slot="action" form="form-id" onclick="saveExport()">Save</md-filled-tonal-button>
                </mdui-dialog>
                <mdui-dialog close-on-overlay-click class="import-dialog">
                    <div slot="headline">
                        Import your level
                    </div>
                    <md-icon slot="icon">download</md-icon>
                    <div class="body">
                        <mdui-collapse>
                            <mdui-collapse-item>
                                <md-list-item type="link" slot="header" style="border-radius: 20px;">Upload file <md-icon slot="end">keyboard_arrow_down</md-icon><md-icon slot="start">upload_file</md-icon></md-list-item>
                                <div class="uploadfiles-area">
                                    <md-icon>upload_file</md-icon>
                                    <p>Drag or upload your level file here</p>
                                    <input type="file" id="fileInput" accept=".txt" style="display: none;" />
                                </div>
                            </mdui-collapse-item>
                        </mdui-collapse>
                        <md-divider inset></md-divider>
                        <mdui-collapse>
                            <mdui-collapse-item>
                                <md-list-item type="link" slot="header" style="border-radius: 20px;">Type in level code <md-icon slot="end">keyboard_arrow_down</md-icon><md-icon slot="start">text_fields</md-icon></md-list-item>
                                <md-outlined-text-field type="textarea" id="importfield" name="importfield" style="overflow: hidden; width: 510px; height: 313px;"></md-outlined-text-field>
                                <p id="importerror" style="color: rgba(255, 0, 0, 0); display: none; width: fit-content; height: fit-content;"></p>
                            </mdui-collapse-item>
                        </mdui-collapse>
                    </div>
                    <p>Tip: If your level is successfully imported but there still an error, you can ignore the error and close this dialog.</p>
                    <md-text-button slot="action" class="cancel" form="form-id">Close</md-text-button>
                    <md-filled-button slot="action" class="import-btn" onclick="importLevelUI()">Import</md-filled-button>
                </mdui-dialog>
                <mdui-dialog close-on-overlay-click class="credit-dialog">
                    <div slot="headline">
                        About
                    </div>
                    <div class="body">
                        <md-list-item><md-icon slot="start">info</md-icon>Version 1.7 <div slot="end"><md-outlined-button id="websiteUpdatesCheck">Check for updates</md-outlined-button> <md-filled-button id="gpbackOldVer" disabled>Change version</md-filled-button></div></md-list-item>
                        <md-list style="--md-list-container-color: var(--md-sys-color-error-container); --md-list-item-label-text-color: var(--md-sys-color-error); border-radius: 20px;"><md-list-item>
                            <md-icon slot="start" style="color: var(--md-sys-color-error);">release_alert</md-icon>All right go to King Limited. If they so chose this editor may be taken down at any time.
                        </md-list-item></md-list>
                        <p>Don't forget these cool guys who worked hard to make this editor!</p>
                        <md-list style="border-radius: 20px;">
                            <md-list-item>
                                <mdui-avatar src="avatar-generic.png" slot="start"></mdui-avatar>Blakiemon
                                <div slot="supporting-text">The first person to create this tool</div>
                            </md-list-item>
                            <md-divider inset></md-divider>
                            <md-list-item>
                                <mdui-avatar src="avatar-generic.png" slot="start"></mdui-avatar>Fence
                                <div slot="supporting-text">Helper</div>
                            </md-list-item>
                            <md-divider inset></md-divider>
                            <md-list-item>
                                <mdui-avatar src="avatar-generic.png" slot="start"></mdui-avatar>Candy Crush Gemer
                                <div slot="supporting-text">Redesigning and remaking the tool</div>
                            </md-list-item>
                            <md-divider inset></md-divider>
                            <md-list-item type="link" href="https://discord.gg/kqq5Tx4XcM" target="_blank">
                                <img src="discord.svg" slot="start" width="32px" alt="">Join Discord for supports and discussions! <md-icon slot="end">open_in_new</md-icon>
                            </md-list-item>
                        </md-list>
                    </div>
                    <md-filled-button slot="action" class="ok-btn">OK</md-filled-button>
                </mdui-dialog>
                <mdui-dialog close-on-overlay-click class="settings-dialog">
                    <div slot="headline">
                        Settings
                    </div>
                    <div class="body">
                        <mdui-layout>
                            <mdui-layout-main class="example-layout-main" style="min-height: 200px; width: 1200px;">
                                <label>
                                    Change background image:
                                    <br><br>
                                    <md-filled-select>
                                        <md-select-option aria-label="blank"></md-select-option>
                                        <md-select-option selected value="10k">
                                          <div slot="headline">10K Celebrate</div>
                                        </md-select-option>
                                        <md-select-option value="solitaire">
                                            <div slot="headline">CC Solitaire background</div>
                                          </md-select-option>
                                        <md-select-option value="ep1">
                                          <div slot="headline">CCS Ep1 Bg</div>
                                        </md-select-option>
                                    </md-filled-select>
                                    <br><br>
                                </label>
                                <label style="display: flex; place-items: center; gap: 80%;">
                                    Dark mode
                                    <md-switch disabled></md-switch>
                                </label>
                                <br>
                                <md-text-button onclick="window.open('https://forms.gle/98bBg4Vwgj2PDT6T6')" style="border-radius: 4px;" trailing-icon>
                                    Send bugs
                                    <svg slot="icon" viewBox="0 0 48 48"><path d="M9 42q-1.2 0-2.1-.9Q6 40.2 6 39V9q0-1.2.9-2.1Q7.8 6 9 6h13.95v3H9v30h30V25.05h3V39q0 1.2-.9 2.1-.9.9-2.1.9Zm10.1-10.95L17 28.9 36.9 9H25.95V6H42v16.05h-3v-10.9Z"/></svg>
                                </md-text-button>
                            </mdui-layout-main>
                        </mdui-layout>
                    </div>
                    <md-filled-button slot="action" class="apply-btn">OK</md-filled-button>
                </mdui-dialog>
                <mdui-dialog close-on-overlay-click class="newlvl-dialog">
                    <div slot="headline">
                        New level
                    </div>
                    <div class="body">
                        Do you want to save the current level?
                    </div>
                    <md-outlined-button slot="action" class="cancel-save">No</md-outlined-button>
                    <md-filled-button slot="action" class="current-save" onclick="exportLevelUI()">Yes</md-filled-button>
                </mdui-dialog>
            </mdui-layout-main>

            <script>
                const beginningNavd = document.querySelector(".beginning-navd");
                const menuBtn = document.querySelector(".opennavd");
                const closeBtn = document.querySelector(".close-navdrawer");
              
                menuBtn.addEventListener("click", () => beginningNavd.open = true);
                closeBtn.addEventListener("click", () => beginningNavd.open = false);
            </script>

        <script>
            // Function to open the export dialog
            const exportButton = document.querySelector('.export-button');
            const exportDialog = document.querySelector('.export-dialog'); // Select the dialog by ID
            const close = document.querySelector('.close-btn');
            
            exportButton.addEventListener("click", () => exportDialog.open = true);
            if (close) {
                close.addEventListener("click", () => exportDialog.open = false);
            } else {
                console.error("Close button not found");
            }

            // Open Import dialog
            const closeImport = document.querySelector('.cancel');
            const importDialog = document.querySelector('.import-dialog');
            const importButton = document.querySelector('.import-main')

            importButton.addEventListener("click",  () => importDialog.open = true);
            closeImport.addEventListener("click", () => importDialog.open = false);

            // Open Credits
            const creditDialog = document.querySelector('.credit-dialog');
            const creditButton = document.querySelector('.credit-btn');
            const okButton = document.querySelector('.ok-btn');

            creditButton.addEventListener("click", () =>  creditDialog.open = true);
            okButton.addEventListener("click", () => creditDialog.open = false);

            // Open  Settings
            const settingsDialog = document.querySelector('.settings-dialog');
            const settingsButton = document.querySelector('.settings-btn');
            const closeSettings = document.querySelector('.apply-btn');

            settingsButton.addEventListener("click", () =>  settingsDialog.open = true);
            closeSettings.addEventListener("click", () => settingsDialog.open = false)

            // Function to close the export dialog
            function closeExportDialog() {
                const exportDialog = document.querySelector('#export-dialog'); // Select the dialog by ID
                if (exportDialog) {
                    exportDialog.close(); // Close the dialog
                } else {
                    console.error("Dialog element not found");
                }
            }

            document.addEventListener('DOMContentLoaded', function() {
                // Find the element with class 'save-file'
                var saveButton = document.querySelector('.save-file');
                
                if (saveButton) {
                    saveButton.addEventListener('click', function() {
                        saveExport();
                    });
                }
            });

            function saveExport() {
                console.log("saveExport function called");
                
                // Get the content of the exportfield
                var content = document.getElementById("exportfield").value;
                console.log("Content:", content);
                
                if (!content) {
                    console.error("No content found in exportfield");
                    return;
                }
                
                // Get the file name from the export-name field
                var fileName = document.getElementById("export-name").value.trim();
                
                // If the file name is blank, use the default
                if (!fileName) {
                    fileName = "level.txt";
                } else if (!fileName.toLowerCase().endsWith('.txt')) {
                    // Ensure the file has a .txt extension
                    fileName += '.txt';
                }
                
                console.log("File name:", fileName);
                
                // Create a Blob with the content
                var blob = new Blob([content], {type: "text/plain;charset=utf-8"});
                
                // Create a temporary URL for the Blob
                var url = window.URL.createObjectURL(blob);
                
                // Create a temporary anchor element
                var a = document.createElement("a");
                a.href = url;
                a.download = fileName;
                
                console.log("Triggering download");
                
                // Append the anchor to the body, click it, and remove it
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                
                // Release the URL object
                window.URL.revokeObjectURL(url);
                
                console.log("Download process completed");
            }

            // Event listeners for buttons
            document.querySelector('.export-button').addEventListener('click', exportLevelUI);
            document.querySelector('.close-btn').addEventListener('click', closeExportDialog);
            document.querySelector('.save-btn').addEventListener('click', saveExport);
        </script>

        <script>
            const newlvlButton = document.querySelector('.newlvl');
            const newlvlDialog = document.querySelector('.newlvl-dialog'); // Select the dialog by ID
            const cancelSaving = document.querySelector('.cancel-save');
            const exportConfirm = document.querySelector('.export-dialog');
            const savecurrentlvlBtn = document.querySelector('.current-save');
            const beginningDrawer = document.querySelector('.beginning-navd');
            const bignewlevelBtn = document.querySelector('.newlevelbigbtn');
            
            newlvlButton.addEventListener("click", () => newlvlDialog.open = true);
            if (cancelSaving) {
                cancelSaving.addEventListener("click", () => newlvlDialog.open = false);
            } else {
                console.error("New level button not found!!!!11");
            }

            savecurrentlvlBtn.addEventListener("click", () => exportConfirm.open = true);
            savecurrentlvlBtn.addEventListener("click", () => newlvlDialog.open = false);

            bignewlevelBtn.addEventListener("click", () => newlvlDialog.open = true);
            bignewlevelBtn.addEventListener("click", () => beginningDrawer.open = false);
        </script>

        <script>
            // Function to check the dark mode switch and apply changes
            function checkDarkMode() {
                // Get the switch element
                const darkModeSwitch = document.getElementById('switchDark');

                // Check if the switch is checked
                if (darkModeSwitch.checked) {
                    // Add the dark theme class to the HTML element
                    document.documentElement.classList.add('mdui-theme-dark');

                    // Change the src of the mwcaccent link
                    const mwcAccentLink = document.getElementById('mwcaccent');
                    mwcAccentLink.setAttribute('href', 'mat-accent-color-dark.css');
                } else {
                    // Remove the dark theme class if not checked
                    document.documentElement.classList.remove('mdui-theme-dark');

                    // Change the src back to light accent color
                    const mwcAccentLink = document.getElementById('mwcaccent');
                    mwcAccentLink.setAttribute('href', 'mat-accent-color-light.css');
                }
            }

            // Add an event listener to the switch to check for changes
            document.getElementById('switchDark').addEventListener('change', checkDarkMode);

            // Initial check on page load
            document.addEventListener('DOMContentLoaded', checkDarkMode);
        </script>
    </body>
</html>